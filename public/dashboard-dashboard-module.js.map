{"version":3,"sources":["webpack:///./src/app/dashboard/dashboard.module.ts","webpack:///./src/app/dashboard/dashboard.router.ts","webpack:///./src/app/dashboard/dashboard/dashboard.component.html","webpack:///./src/app/dashboard/dashboard/dashboard.component.scss","webpack:///./src/app/dashboard/dashboard/dashboard.component.ts","webpack:///./src/app/dashboard/data-tracker/data-tracker.component.html","webpack:///./src/app/dashboard/data-tracker/data-tracker.component.scss","webpack:///./src/app/dashboard/data-tracker/data-tracker.component.ts","webpack:///./src/app/dashboard/header/header.component.html","webpack:///./src/app/dashboard/header/header.component.scss","webpack:///./src/app/dashboard/header/header.component.ts","webpack:///./src/app/shared/services/common.service.ts"],"names":[],"mappings":"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","file":"dashboard-dashboard-module.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { DashboardRouter } from './dashboard.router';\r\nimport { HeaderComponent } from './header/header.component';\r\nimport { DashboardComponent } from './dashboard/dashboard.component';\r\nimport { CommonService } from '../shared/services/common.service';\r\nimport { DataTrackerComponent } from './data-tracker/data-tracker.component';\r\nimport { AgGridModule } from 'ag-grid-angular';\r\n// import { TestComponent } from './test/test.component';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    DashboardRouter,\r\n    AgGridModule.withComponents([]),\r\n    ReactiveFormsModule\r\n  ],\r\n  providers: [\r\n    CommonService\r\n  ],\r\n  declarations: [HeaderComponent, DashboardComponent, DataTrackerComponent, \r\n    // TestComponent\r\n  ]\r\n})\r\nexport class DashboardModule { }\r\n","import { Routes, RouterModule } from '@angular/router';\r\nimport { ModuleWithProviders } from '@angular/core';\r\nimport { AuthGuard } from '../security/auth-guard.service';\r\nimport { DashboardComponent } from './dashboard/dashboard.component';\r\nimport { DataTrackerComponent } from './data-tracker/data-tracker.component';\r\n// import { TestComponent } from './test/test.component';\r\n\r\nexport const dashboardRouter: Routes = [\r\n    {\r\n        path: '', component: DashboardComponent,\r\n        children: [\r\n            { path: '', redirectTo: 'user', pathMatch: 'full' },\r\n            { path: 'user', loadChildren: './user/user.module#UserModule', canActivate: [AuthGuard] },\r\n            { path: 'entry', loadChildren: './data-entry/data-entry.module#DataEntryModule', canActivate: [AuthGuard] },\r\n            { path: 'report', loadChildren: './report/report.module#ReportModule'},\r\n            { path: 'data-tracker', component: DataTrackerComponent},\r\n            // { path: 'test', component: TestComponent}\r\n        ]\r\n    }\r\n];\r\n\r\nexport const DashboardRouter: ModuleWithProviders = RouterModule.forChild(dashboardRouter);\r\n","module.exports = \"<div class=\\\"dashboard-wrapper\\\">\\r\\n  <app-header></app-header>\\r\\n  <router-outlet></router-outlet>\\r\\n</div>\\r\\n\"","module.exports = \".dashboard-wrapper {\\n  background-color: white;\\n  min-height: 650px; }\\n\"","import { Component, OnInit } from '@angular/core';\r\nimport { CommonService } from '../../shared/services/common.service';\r\n\r\n@Component({\r\n  selector: 'app-dashboard',\r\n  templateUrl: './dashboard.component.html',\r\n  styleUrls: ['./dashboard.component.scss']\r\n})\r\nexport class DashboardComponent implements OnInit {\r\n\r\n  constructor(private commonService: CommonService) { }\r\n\r\n  ngOnInit() {\r\n    this.commonService.loadStates(true);\r\n  }\r\n\r\n}\r\n","module.exports = \"<div class=\\\"common-container\\\">\\r\\n  <div class=\\\"container\\\">\\r\\n\\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"col-md-6\\\">\\r\\n        <h3>Urban Finance </h3> <h4>The list of files available on city finance. </h4>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"col-md-12\\\">\\r\\n        <ag-grid-angular style=\\\"width: 100%; height: calc(100vh - 230px);\\\" class=\\\"ag-theme-balham\\\" [columnDefs]=\\\"columnDefs\\\"\\r\\n          [rowData]=\\\"ledgerLogs\\\" [enableColResize]=\\\"true\\\" [enableSorting]=\\\"true\\\" [enableFilter]=\\\"true\\\" [pagination]=\\\"true\\\"\\r\\n          [paginationAutoPageSize]=\\\"true\\\" (gridReady)=\\\"onFirstDataRendered($event)\\\">\\r\\n        </ag-grid-angular>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n\\r\\n  </div>\\r\\n</div>\\r\\n\"","module.exports = \"\"","import { Component, OnInit } from '@angular/core';\r\nimport { DataEntryService } from '../data-entry/data-entry.service';\r\n\r\n@Component({\r\n  selector: 'app-data-tracker',\r\n  templateUrl: './data-tracker.component.html',\r\n  styleUrls: ['./data-tracker.component.scss']\r\n})\r\nexport class DataTrackerComponent implements OnInit {\r\n\r\n  ledgerLogs = [];\r\n  columnDefs = [\r\n    {headerName: 'State', field: 'state' },\r\n    {headerName: 'ULB Name', field: 'ulb' },\r\n    {headerName: 'Year', field: 'year' },\r\n    // {headerName: 'Wards', field: 'wards', filter: \"agNumberColumnFilter\" },\r\n    // {headerName: 'Area', field: 'area', filter: \"agNumberColumnFilter\" },\r\n    // {headerName: 'Population', field: 'population', filter: \"agNumberColumnFilter\" },\r\n    {headerName: 'Audit Status', field: 'audit_status'},\r\n    {headerName: 'Download', field: 'ulb_code_year', \r\n      cellRenderer: function(params) {\r\n        return '<a href=\"https://jccd-cityfinance.s3.ap-south-1.amazonaws.com/downloads/credit-rating/excel/' + params.value.substr(0, 6)+params.value.substr(8,2)+params.value.substr(11,2)+'.xlsx' + '\" target=\"_blank\"><i class=\"fa fa-file-excel-o\" aria-hidden=\"true\"></i></a> / <a href=\"https://jccd-cityfinance.s3.ap-south-1.amazonaws.com/downloads/credit-rating/pdf/' + params.value.substr(0, 6)+params.value.substr(8,2)+params.value.substr(11,2)+'.pdf' + '\" target=\"_blank\"><i class=\"fa fa-file-pdf-o\" aria-hidden=\"true\"></i></a>'\r\n      }\r\n    },\r\n    \r\n  \r\n  ];\r\n  constructor(private dataEntryService: DataEntryService) { }\r\n\r\n  ngOnInit() {\r\n    this.dataEntryService.getLedgerLogs({}).subscribe(res => {\r\n      if(res['success']){\r\n        this.ledgerLogs = res['data'];\r\n      } else{\r\n        alert('Failed');\r\n      }\r\n    })\r\n  }\r\n\r\n  onFirstDataRendered(params) {\r\n    params.api.sizeColumnsToFit();\r\n  }\r\n\r\n}\r\n","module.exports = \"<nav class=\\\"navbar\\\">\\r\\n  <div class=\\\"container-fluid\\\">\\r\\n    <div class=\\\"navbar-header\\\">\\r\\n      <span [routerLink]=\\\"['/']\\\" class=\\\"navbar-brand\\\"><img src=\\\"/assets/images/cityfinance-logo.png\\\"></span>\\r\\n    </div>\\r\\n    <!-- Home, About Cityfinance.in, Urban Finances, Municipal Finance Laws, Credit Rating , Municipal Bonds and Login -->\\r\\n    <ul class=\\\"nav navbar-nav navbar-right\\\">\\r\\n      <li routerLinkActive=\\\"active\\\"><a [routerLink]=\\\"['/home']\\\">Home</a></li>\\r\\n      <!-- <li routerLinkActive=\\\"active\\\"><a [routerLink]=\\\"['/home']\\\">About Cityfinance.in</a></li> -->\\r\\n      <li routerLinkActive=\\\"active\\\"><a [routerLink]=\\\"['/dashboard/report']\\\">Urban Finances</a></li>\\r\\n      <li routerLinkActive=\\\"active\\\"><a [routerLink]=\\\"['/credit-rating/laws']\\\">Municipal Finance Laws</a></li>\\r\\n      <li routerLinkActive=\\\"active\\\"><a [routerLink]=\\\"['/credit-rating/report']\\\">Credit Rating</a></li>\\r\\n      <li routerLinkActive=\\\"active\\\"><a [routerLink]=\\\"['/credit-rating/municipal-bond']\\\">Municipal Bonds</a></li>\\r\\n      <li routerLinkActive=\\\"active\\\" *ngIf=\\\"!isLoggedIn\\\"><a [routerLink]=\\\"['/login']\\\">Login</a></li>\\r\\n      <li routerLinkActive=\\\"active\\\" class=\\\"dropdown\\\" *ngIf=\\\"isLoggedIn\\\">\\r\\n        <a  class=\\\"dropdown-toggle\\\" data-toggle=\\\"dropdown\\\" role=\\\"button\\\" aria-haspopup=\\\"true\\\" aria-expanded=\\\"false\\\">Settings &nbsp;<span class=\\\"caret\\\"></span></a>\\r\\n        <ul class=\\\"dropdown-menu\\\">\\r\\n          <li routerLinkActive=\\\"active\\\"><a [routerLink]=\\\"['user']\\\">Profile</a></li>\\r\\n          <li routerLinkActive=\\\"active\\\"><a class=\\\"pointer\\\" (click)=\\\"logout()\\\">Logout</a></li>\\r\\n        </ul>\\r\\n      </li>\\r\\n\\r\\n      <!-- <li class=\\\"dropdown\\\">\\r\\n        <a  class=\\\"dropdown-toggle\\\" data-toggle=\\\"dropdown\\\" role=\\\"button\\\" aria-haspopup=\\\"true\\\" aria-expanded=\\\"false\\\">Ulb Credit Rating &nbsp;<span class=\\\"caret\\\"></span></a>\\r\\n        <ul class=\\\"dropdown-menu\\\">\\r\\n          <li><a [routerLink]=\\\"['/credit-rating/report']\\\">Credit Rating Report</a></li>\\r\\n          <li><a [routerLink]=\\\"['/credit-rating/laws']\\\">Municipal Laws</a></li>\\r\\n          <li><a [routerLink]=\\\"['/credit-rating/municipal-bond']\\\">Municipal Bond Issuances</a></li>\\r\\n        </ul>\\r\\n      </li>\\r\\n      <li><a [routerLink]=\\\"['/dashboard/data-tracker']\\\">Data Tracker</a></li>\\r\\n      <li *ngIf=\\\"isLoggedIn\\\"><a [routerLink]=\\\"['entry']\\\">Data Entry</a></li>\\r\\n      <li *ngIf=\\\"isLoggedIn\\\"><a [routerLink]=\\\"['report']\\\">Report</a></li> -->\\r\\n      \\r\\n    </ul>\\r\\n  </div>\\r\\n</nav>\"","module.exports = \"\"","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { AuthService } from '../../auth/auth.service';\r\n\r\n@Component({\r\n  selector: 'app-header',\r\n  templateUrl: './header.component.html',\r\n  styleUrls: ['./header.component.scss']\r\n})\r\nexport class HeaderComponent implements OnInit {\r\n  isLoggedIn = false;\r\n  constructor(private router: Router, private authService: AuthService) { }\r\n\r\n  ngOnInit() {\r\n    this.isLoggedIn = this.authService.loggedIn();\r\n  }\r\n\r\n  logout() {\r\n    localStorage.clear();\r\n    this.router.navigate(['/']);\r\n    this.isLoggedIn = false;\r\n  }\r\n\r\n}\r\n","import { Subject, Observable } from 'rxjs';\r\nimport { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { environment } from './../../../environments/environment';\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class CommonService {\r\n\r\n  private stateArr = [];\r\n  public states: Subject<any> = new Subject<any>();\r\n\r\n  // private states: any = [];\r\n  constructor(private http: HttpClient) { }\r\n\r\n  // we are loading states while loading dashboard\r\n  public loadStates(doLoadFromServer: boolean){\r\n    if(this.stateArr.length > 0 && !doLoadFromServer){\r\n      this.states.next(this.stateArr);\r\n    }\r\n    this.http.get(environment.api.url + 'lookup/states').subscribe(res => {\r\n      this.stateArr = res['data'];\r\n      this.states.next(this.stateArr);\r\n    });\r\n  }\r\n\r\n  getAllUlbs(){\r\n    return this.http.get(environment.api.url + 'lookup/ulbs');\r\n  }\r\n\r\n  // since ULB is based on state, query will happen on demand\r\n  getUlbByState(stateCode){\r\n    return this.http.get(environment.api.url + 'lookup/states/' + stateCode + '/ulbs');\r\n  }\r\n\r\n  loadStatesAgg(): Observable<any> {\r\n    return this.http.get(\"/assets/files/homeDashboardStateAggData.json\");\r\n  }\r\n\r\n  loadHomeStatisticsData(): Observable<any> {\r\n    return this.http.get(\"/assets/files/homeDashboardData.json\");\r\n  }\r\n}\r\n"],"sourceRoot":""}